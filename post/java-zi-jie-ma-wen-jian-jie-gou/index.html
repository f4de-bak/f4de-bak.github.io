<html>
  <head>
    <meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>F4DE的博客</title>
<meta name="description" content="Keep fantasy" />
<link rel="shortcut icon" href="http://localhost:4000/favicon.ico?v=1615818313542">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.10.0/katex.min.css">
<link href="https://cdn.jsdelivr.net/npm/remixicon@2.3.0/fonts/remixicon.css" rel="stylesheet">
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Droid+Serif:400,700">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.7.2/animate.min.css">

<link rel="stylesheet" href="http://localhost:4000/styles/main.css">



  </head>
  <body>
    <div id="app" class="main px-4 flex flex-col lg:flex-row">
      <div id="sidebar" class="sidebar-wrapper lg:static lg:w-1/4">
  <div class="lg:sticky top-0">
    <div class="sidebar-content">
      <div class="flex lg:block p-4 lg:px-0 items-center fixed lg:static lg:block top-0 right-0 left-0 bg-white z-50">
        <i class="ri-menu-2-line lg:mt-4 text-2xl cursor-pointer animated fadeIn" onclick="openMenu()"></i>
        <a href="http://localhost:4000">
          <img class="animated fadeInLeft avatar rounded-lg mx-4 lg:mt-32 lg:mx-0 mt-0 lg:w-24 lg:h-24 w-12 w-12" src="http://localhost:4000/images/avatar.png?v=1615818313542" alt="">
        </a>
        <h1 class="animated fadeInLeft lg:text-4xl font-extrabold lg:mt-8 mt-0 text-xl" style="animation-delay: 0.2s">F4DE的博客</h1>
      </div>
      
        <div class="animated fadeInLeft" style="animation-delay: 0.4s">
          <p class="my-4 text-gray-600 font-light hidden lg:block">
            文章目录
          </p>
          <div class="toc-container hidden lg:block">
            <ul class="markdownIt-TOC">
<li><a href="#magic">Magic</a></li>
<li><a href="#minormajor_version">minor/major_version</a></li>
<li><a href="#constant_pool_count">constant_pool_count</a></li>
<li><a href="#constant_pool">constant_pool</a></li>
<li><a href="#access_flags">access_flags</a></li>
<li><a href="#this_class">this_class</a></li>
<li><a href="#super_class">super_class</a></li>
<li><a href="#interfaces_count">interfaces_count</a></li>
<li><a href="#interfacesinterfaces_count">interfaces[interfaces_count]</a></li>
<li><a href="#fields_count">fields_count</a></li>
<li><a href="#fieldsfields_count">fields[fields_count]</a></li>
<li><a href="#methods_count">methods_count</a></li>
<li><a href="#methodsmethods_count">methods[methods_count]</a></li>
<li><a href="#attributes_count">attributes_count</a></li>
<li><a href="#attributesattributes_count">attributes[attributes_count]</a></li>
</ul>

          </div>
        </div>
      
    </div>
  </div>
</div>

<div class="menu-container">
  <i class="ri-arrow-left-line text-2xl cursor-pointer animated fadeIn close-menu-btn" onclick="closeMenu()"></i>
  <div>
    
      
        <a href="/" class="menu" style="animation-delay: 0s">
          首页
        </a>
      
    
      
        <a href="/tags" class="menu" style="animation-delay: 0.2s">
          标签
        </a>
      
    
      
        <a href="/archives" class="menu" style="animation-delay: 0.4s">
          归档
        </a>
      
    
      
        <a href="/post/about" class="menu" style="animation-delay: 0.6000000000000001s">
          关于
        </a>
      
    
      
        <a href="/post/links" class="menu" style="animation-delay: 0.8s">
          友链
        </a>
      
    
  </div>
  <div class="site-footer">
    <div class="py-4 text-gray-700">Powered by <a href="https://github.com/getgridea/gridea" target="_blank">Gridea</a></div>
    <a class="rss" href="http://localhost:4000/atom.xml" target="_blank">RSS</a>
  </div>
</div>
<div class="mask" onclick="closeMenu()">
</div>
      <div class="content-wrapper py-32 lg:p-8 lg:w-3/4 post-detail animated fadeIn">
        <h1 class="text-3xl font-bold lg:mt-16">Java字节码文件结构</h1>
        <div class="text-sm text-gray-700 lg:my-8">
          2021-03-04 / 8 min read
        </div>
        
          <img class="post-feature-image rounded-lg mx-auto my-4" src="https://cdn.jsdelivr.net/gh/f4de-bak/picture/picture20210304165507.jpg" alt="">
        
        <div class="post-content yue">
          <p>一篇关于Java字节码文件结构的学习笔记。</p>
<!-- more -->
<p><a href="https://docs.oracle.com/javase/specs/jvms/se15/html/jvms-4.html#jvms-4.7.2">Chapter 4. The class File Format (oracle.com)</a></p>
<p>Java的字节码文件格式规定如下：</p>
<pre><code class="language-java">ClassFile {
    u4             magic;
    u2             minor_version;
    u2             major_version;
    u2             constant_pool_count;
    cp_info        constant_pool[constant_pool_count-1];
    u2             access_flags;
    u2             this_class;
    u2             super_class;
    u2             interfaces_count;
    u2             interfaces[interfaces_count];
    u2             fields_count;
    field_info     fields[fields_count];
    u2             methods_count;
    method_info    methods[methods_count];
    u2             attributes_count;
    attribute_info attributes[attributes_count];
}
</code></pre>
<p>Class文件由<strong>无符号数</strong>和<strong>表</strong>组成：</p>
<ul>
<li>在JVM的的规范中，u1、u2、u4分别表示1、2、4字节的无符号数</li>
<li>表是由多个无符号数或者其他表作为数据项的复杂数据类型，都习惯以<code>_info</code>结尾</li>
</ul>
<blockquote>
<figure data-type="image" tabindex="1"><img src="https://img-blog.csdnimg.cn/20190510170421396.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3UwMTA5NjM5NDg=,size_16,color_FFFFFF,t_70" alt="img" loading="lazy"></figure>
</blockquote>
<p>下面以这个class文件为例：</p>
<pre><code class="language-java">interface TestInterface {
    void hello();
}

public class TestClass implements TestInterface {
    private int id;

    public TestClass() {
        this.id = 3;
    }

    @Override
    public void hello() {
        System.out.println(&quot;Hello&quot; + id);
    }
}
</code></pre>
<h1 id="magic">Magic</h1>
<p>Magic（魔数）是class文件的标识，其有固定值 <code>0xCAFEBABE</code>  ，JVM加载class文件的时候会先加载4字节的数据（ <code>u4 magic</code> ）来判断该文件是不是字节码文件。</p>
<figure data-type="image" tabindex="2"><img src="https://cdn.jsdelivr.net/gh/f4de-bak/picture/picture20210302203849.png" alt="image-20210302203842019" loading="lazy"></figure>
<h1 id="minormajor_version">minor/major_version</h1>
<p><code>minor_version</code>和<code>major_version</code>两部分组成了class文件的版本号，两者分别表示副版本号和主版本号，我们常说的Java1.8、Java11表示的就是主版本号，下表是版本号的对应关系：</p>
<table>
<thead>
<tr>
<th>JDK版本</th>
<th><strong>十进制</strong></th>
<th><strong>十六进制</strong></th>
<th>发布时间</th>
</tr>
</thead>
<tbody>
<tr>
<td>JDK1.1</td>
<td>45</td>
<td>2D</td>
<td>1996-05</td>
</tr>
<tr>
<td>JDK1.2</td>
<td>46</td>
<td>2E</td>
<td>1998-12</td>
</tr>
<tr>
<td>JDK1.3</td>
<td>47</td>
<td>2F</td>
<td>2000-05</td>
</tr>
<tr>
<td>JDK1.4</td>
<td>48</td>
<td>30</td>
<td>2002-02</td>
</tr>
<tr>
<td>JDK1.5</td>
<td>49</td>
<td>31</td>
<td>2004-09</td>
</tr>
<tr>
<td>JDK1.6</td>
<td>50</td>
<td>32</td>
<td>2006-12</td>
</tr>
<tr>
<td>JDK1.7</td>
<td>51</td>
<td>33</td>
<td>2011-07</td>
</tr>
<tr>
<td>JDK1.8</td>
<td>52</td>
<td>34</td>
<td>2014-03</td>
</tr>
<tr>
<td>Java9</td>
<td>53</td>
<td>35</td>
<td>2017-09</td>
</tr>
<tr>
<td>Java10</td>
<td>54</td>
<td>36</td>
<td>2018-03</td>
</tr>
<tr>
<td>Java11</td>
<td>55</td>
<td>37</td>
<td>2018-09</td>
</tr>
<tr>
<td>Java12</td>
<td>56</td>
<td>38</td>
<td>2019-03</td>
</tr>
<tr>
<td>Java13</td>
<td>57</td>
<td>39</td>
<td>2019-09</td>
</tr>
<tr>
<td>Java14</td>
<td>58</td>
<td>3A</td>
<td>2020-03</td>
</tr>
<tr>
<td>Java15</td>
<td>59</td>
<td>3B</td>
<td>2020-09</td>
</tr>
</tbody>
</table>
<figure data-type="image" tabindex="3"><img src="https://cdn.jsdelivr.net/gh/f4de-bak/picture/picture20210302203933.png" alt="image-20210302203933815" loading="lazy"></figure>
<h1 id="constant_pool_count">constant_pool_count</h1>
<p>常量池计数器 <code>u2 constant_pool_count</code>）表示的是常量池中的数量，其值为<code>常量池中的数量 + 1</code>，<strong>需要特别注意的是<code>long</code>和<code>double</code>类型的常量池对象占两个常量位，并且常量池计数是从1开始的。</strong></p>
<figure data-type="image" tabindex="4"><img src="https://cdn.jsdelivr.net/gh/f4de-bak/picture/picture20210302204056.png" alt="image-20210302204056277" loading="lazy"></figure>
<p>0X0036也就是54，表示常量池中有53个元素。</p>
<h1 id="constant_pool">constant_pool</h1>
<p>常量池（constant_pool），<code>cp_info constant_pool[constant_pool_count-1]</code>是一种表结构，<code>cp_info</code>表示的是常量池对象。</p>
<p>常量池中主要存放<strong>字面量</strong>和<strong>符号引用</strong>：</p>
<ul>
<li><strong>字面量</strong>：文本字符串、被声明为<code>final</code>的常量</li>
<li><strong>符号引用</strong>：类和接口的全限定名、字段的名称和描述符、方法的名称和描述符</li>
</ul>
<p>常量池中的每一个元素都是一个表，表的类型共有<strong>14种</strong>，它们都具有一个共同的特点：<strong>表开始的部分都是一个<code>u1</code>的标志位。</strong></p>
<blockquote>
<p>下图为常量池中14中数据类型的总表：</p>
<figure data-type="image" tabindex="5"><img src="https://cdn.jsdelivr.net/gh/f4de-bak/picture/picture20210304165259.png" alt="img" loading="lazy"></figure>
<figure data-type="image" tabindex="6"><img src="https://cdn.jsdelivr.net/gh/f4de-bak/picture/picture20210304165254.png" alt="img" loading="lazy"></figure>
</blockquote>
<img src="https://cdn.jsdelivr.net/gh/f4de-bak/picture/picture20210302211926.png" alt="image-20210302211918990" style="zoom: 80%;" />
<p>常量池中第一个一个常量的标志为<code>0A</code>，也就是10，表示该常量为<code>CONSTANT_Methodref_info</code>，为<strong>类中方法的符号引用</strong>，按照上表，可以读出<strong>指向方法的类描述符</strong>的索引位置为<code>0x0007</code>，<strong>指向名称及类型描述符</strong>的索引位置为<code>0x0015</code>······</p>
<p>使用<strong>jclasslib</strong>插件可以快速查看常量池中的常量信息：</p>
<figure data-type="image" tabindex="7"><img src="https://cdn.jsdelivr.net/gh/f4de-bak/picture/picture20210302212753.png" alt="image-20210302212752980" loading="lazy"></figure>
<h1 id="access_flags">access_flags</h1>
<p>访问标志（<code>u2 access_flags</code>）用于识别一些<strong>类</strong>或者<strong>接口</strong>层次的访问信息。</p>
<table>
<thead>
<tr>
<th>标志名</th>
<th>十六进制值</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>ACC_PUBLIC</td>
<td>0x0001</td>
<td>声明为public</td>
</tr>
<tr>
<td>ACC_FINAL</td>
<td>0x0010</td>
<td>声明为final</td>
</tr>
<tr>
<td>ACC_SUPER</td>
<td>0x0020</td>
<td>废弃/仅JDK1.0.2前使用，1.0.2之后都为真</td>
</tr>
<tr>
<td>ACC_INTERFACE</td>
<td>0x0200</td>
<td>声明为接口</td>
</tr>
<tr>
<td>ACC_ABSTRACT</td>
<td>0x0400</td>
<td>声明为abstract</td>
</tr>
<tr>
<td>ACC_SYNTHETIC</td>
<td>0x1000</td>
<td>声明为synthetic，表示该class文件并非由Java源代码所生成</td>
</tr>
<tr>
<td>ACC_ANNOTATION</td>
<td>0x2000</td>
<td>标识注解类型</td>
</tr>
<tr>
<td>ACC_ENUM</td>
<td>0x4000</td>
<td>标识枚举类型</td>
</tr>
</tbody>
</table>
<p>对于例子<code>TestClass</code>来说，它的标志应该是<code>ACC_PUBLIC</code>和<code>ACC_SUPER</code>，所以<code>access_flags</code>的值为<code>0x0001 | 0x0020 = 0x0021</code>。</p>
<figure data-type="image" tabindex="8"><img src="https://cdn.jsdelivr.net/gh/f4de-bak/picture/picture20210302214110.png" alt="image-20210302214109941" loading="lazy"></figure>
<h1 id="this_class">this_class</h1>
<p><code>u2 this_class</code>表示的是当前类在常量池中的索引位置（<code>CONSTANT_Class_info</code>）。</p>
<figure data-type="image" tabindex="9"><img src="https://cdn.jsdelivr.net/gh/f4de-bak/picture/picture20210302214614.png" alt="image-20210302214614561" loading="lazy"></figure>
<h1 id="super_class">super_class</h1>
<p><code>u2 super_class</code>表示的是当前类的父类在常量池中的索引位置。</p>
<h1 id="interfaces_count">interfaces_count</h1>
<p><code>u2 interfaces_count</code>表示当前类实现的接口数量。</p>
<h1 id="interfacesinterfaces_count">interfaces[interfaces_count]</h1>
<p><code>u2 interfaces[interfaces_count]</code>表示所有接口在常量池中的索引位置。</p>
<figure data-type="image" tabindex="10"><img src="https://cdn.jsdelivr.net/gh/f4de-bak/picture/picture20210302215302.png" alt="image-20210302215302711" loading="lazy"></figure>
<h1 id="fields_count">fields_count</h1>
<p><code>u2 fields_count</code>表示类中成员变量的数量。</p>
<h1 id="fieldsfields_count">fields[fields_count]</h1>
<p><code>field_info fields[fields_count]</code>是成员变量表（字段表）信息，字段表的结构如下：</p>
<pre><code class="language-java">field_info {
   u2 access_flags; //成员变量访问标志
   u2 name_index; //成员变量名称在常量池中的索引
   u2 descriptor_index; //成员变量的描述符在常量池中的索引
   u2 attributes_count; //成员变量属性数量
   attribute_info attributes[attributes_count]; //成员变量的属性信息
}
</code></pre>
<blockquote>
<p>成员变量访问标志表：</p>
<table>
<thead>
<tr>
<th>权限名称</th>
<th>值</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>ACC_PUBLIC</td>
<td>0x0001</td>
<td>public</td>
</tr>
<tr>
<td>ACC_PRIVATE</td>
<td>0x0002</td>
<td>private</td>
</tr>
<tr>
<td>ACC_PROTECTED</td>
<td>0x0004</td>
<td>protected</td>
</tr>
<tr>
<td>ACC_STATIC</td>
<td>0x0008</td>
<td>static，静态</td>
</tr>
<tr>
<td>ACC_FINAL</td>
<td>0x0010</td>
<td>final</td>
</tr>
<tr>
<td>ACC_VOLATILE</td>
<td>0x0040</td>
<td>volatile，不可和ACC_FIANL一起使用</td>
</tr>
<tr>
<td>ACC_TRANSIENT</td>
<td>0x0080</td>
<td>在序列化中被忽略的字段</td>
</tr>
<tr>
<td>ACC_SYNTHETIC</td>
<td>0x1000</td>
<td>由编译器产生，不存在于源代码中</td>
</tr>
<tr>
<td>ACC_ENUM</td>
<td>0x4000</td>
<td>enum</td>
</tr>
</tbody>
</table>
</blockquote>
<figure data-type="image" tabindex="11"><img src="https://cdn.jsdelivr.net/gh/f4de-bak/picture/picture20210302220419.png" alt="image-20210302220418964" loading="lazy"></figure>
<ul>
<li>0x0002表示字段的访问标志为<code>ACC_PRIVATE</code></li>
<li>0x0009表示变量名称在常量池中的索引位置为9</li>
<li>0x000A表示变量描述符在常量池中的索引位置为10</li>
<li>0x0000表示属性数量为0</li>
</ul>
<h1 id="methods_count">methods_count</h1>
<p><code>u2 methods_count</code>表示类的方法数量。</p>
<h1 id="methodsmethods_count">methods[methods_count]</h1>
<p><code>method_info methods[methods_count]</code>是方法表，结构和字段表是一样的。</p>
<pre><code class="language-java">method_info {
   u2 access_flags; //方法访问标志
   u2 name_index; //方法名称在常量池中的索引
   u2 descriptor_index; //方法的描述符在常量池中的索引
   u2 attributes_count; //方法属性数量
   attribute_info attributes[attributes_count]; //方法的属性信息
}
</code></pre>
<p><code>attribute_info attributes[attributes_count]</code>是一个很复杂的存储结构，存储着各种属性信息：</p>
<pre><code class="language-java">attribute_info {
   u2 attribute_name_index; //属性名称在常量池中的索引
   u4 attribute_length; //属性长度
   u1 info[attribute_length]; //属性信息，不同属性的结构不同
}
</code></pre>
<p>值得注意的是，方法代码逻辑是放在<code>code</code>属性中的，是以<strong>Java虚拟机指令</strong>的形式存储的。</p>
<blockquote>
<p>code属性的结构：</p>
<table>
<thead>
<tr>
<th>类型</th>
<th>名称</th>
<th>含义</th>
</tr>
</thead>
<tbody>
<tr>
<td>u2</td>
<td>attribute_name_index</td>
<td>属性名称索引</td>
</tr>
<tr>
<td>u4</td>
<td>attribute_length</td>
<td>属性长度</td>
</tr>
<tr>
<td>u2</td>
<td>max_stack</td>
<td>操作数栈深度的最大值</td>
</tr>
<tr>
<td>u2</td>
<td>max_locals</td>
<td>局部变量表所需的存储空间</td>
</tr>
<tr>
<td>u4</td>
<td>code_length</td>
<td>字节码长度</td>
</tr>
<tr>
<td>u1</td>
<td>code[code_length]</td>
<td>存储字节码指令的一系列字节流</td>
</tr>
<tr>
<td>u2</td>
<td>exception_table_length</td>
<td>异常表长度</td>
</tr>
<tr>
<td>exception_info</td>
<td>exception_table</td>
<td></td>
</tr>
<tr>
<td>u2</td>
<td>attributes_count</td>
<td></td>
</tr>
<tr>
<td>attribute_info</td>
<td>attributes[attributes_count]</td>
<td></td>
</tr>
</tbody>
</table>
</blockquote>
<figure data-type="image" tabindex="12"><img src="https://cdn.jsdelivr.net/gh/f4de-bak/picture/picture20210302223659.png" alt="image-20210302223659435" loading="lazy"></figure>
<p>接着来分析<code>code</code>属性：</p>
<ul>
<li>000D：code属性在常量池中的索引为13</li>
<li>0000 003C：属性长度为60字节</li>
<li>0002：max_stack为2</li>
<li>0001：max_locals为1</li>
<li>0000 000A：code_length为10，表示还有10个字节来存储指令</li>
<li>2AB7 0001 2A06 B500 02B1：<strong>存储JVM指令的字节流</strong></li>
<li>0000：没有异常抛出</li>
<li>0002：表示<code>code</code>属性还有2个属性</li>
</ul>
<p><code>code</code>属性中主要包含的属性为：<code>LineNumberTable</code>和<code>LocalVariableTable</code>。</p>
<p><code>LineNumberTable</code>的结构如下：</p>
<pre><code class="language-java">LineNumberTable_attribute {
    u2 attribute_name_index;        //属性名称索引
    u4 attribute_length;            //属性长度
    u2 line_number_table_length;
    {   u2 start_pc;            //字节码行号
        u2 line_number;         //java源码行号
    } line_number_table[line_number_table_length];
}
</code></pre>
<ul>
<li>
<p>000E：属性索引位置在常量池中的索引位置为14</p>
</li>
<li>
<p>0000 000E：属性长度为14个字节</p>
</li>
<li>
<p>0003：line_number_table_length为3</p>
</li>
<li>
<p>0000 000A：前两个字节表示字节码行号，后两个字节表示对应的Java代码行号</p>
</li>
<li>
<p>······</p>
</li>
</ul>
<p>具体属性结构可以参考：<a href="https://docs.oracle.com/javase/specs/jvms/se15/html/jvms-4.html#jvms-4.7.13">Chapter 4. The class File Format (oracle.com)</a></p>
<h1 id="attributes_count">attributes_count</h1>
<p><code>u2 attributes_count</code>表示当前class文件的属性表的元素个数。</p>
<h1 id="attributesattributes_count">attributes[attributes_count]</h1>
<blockquote>
<p>Java15中的属性表：</p>
<table>
<thead>
<tr>
<th>属性名称</th>
<th>章节</th>
</tr>
</thead>
<tbody>
<tr>
<td>ConstantValue Attribute</td>
<td>§4.7.2</td>
</tr>
<tr>
<td>Code Attribute</td>
<td>§4.7.3</td>
</tr>
<tr>
<td>StackMapTable Attribute</td>
<td>§4.7.4</td>
</tr>
<tr>
<td>Exceptions Attribute</td>
<td>§4.7.5</td>
</tr>
<tr>
<td>InnerClasses Attribute</td>
<td>§4.7.6</td>
</tr>
<tr>
<td>EnclosingMethod Attribute</td>
<td>§4.7.7</td>
</tr>
<tr>
<td>Synthetic Attribute</td>
<td>§4.7.8</td>
</tr>
<tr>
<td>Signature Attribute</td>
<td>§4.7.9</td>
</tr>
<tr>
<td>SourceFile Attribute</td>
<td>§4.7.10</td>
</tr>
<tr>
<td>SourceDebugExtension Attribute</td>
<td>§4.7.11</td>
</tr>
<tr>
<td>LineNumberTable Attribute</td>
<td>§4.7.12</td>
</tr>
<tr>
<td>LocalVariableTable Attribute</td>
<td>§4.7.13</td>
</tr>
<tr>
<td>LocalVariableTypeTable Attribute</td>
<td>§4.7.14</td>
</tr>
<tr>
<td>Deprecated Attribute</td>
<td>§4.7.15</td>
</tr>
<tr>
<td>RuntimeVisibleAnnotations Attribute</td>
<td>§4.7.16</td>
</tr>
<tr>
<td>RuntimeInvisibleAnnotations Attribute</td>
<td>§4.7.17</td>
</tr>
<tr>
<td>RuntimeVisibleParameterAnnotations Attribute</td>
<td>§4.7.18</td>
</tr>
<tr>
<td>RuntimeInvisibleParameterAnnotations Attribute</td>
<td>§4.7.19</td>
</tr>
<tr>
<td>RuntimeVisibleTypeAnnotations Attribute</td>
<td>§4.7.20</td>
</tr>
<tr>
<td>RuntimeInvisibleTypeAnnotations Attribute</td>
<td>§4.7.21</td>
</tr>
<tr>
<td>AnnotationDefault Attribute</td>
<td>§4.7.22</td>
</tr>
<tr>
<td>BootstrapMethods Attribute</td>
<td>§4.7.23</td>
</tr>
<tr>
<td>MethodParameters Attribute</td>
<td>§4.7.24</td>
</tr>
<tr>
<td>Module Attribute</td>
<td>§4.7.25</td>
</tr>
<tr>
<td>ModulePackages Attribute</td>
<td>§4.7.26</td>
</tr>
<tr>
<td>ModuleMainClass Attribute</td>
<td>§4.7.27</td>
</tr>
<tr>
<td>NestHost Attribute</td>
<td>§4.7.28</td>
</tr>
<tr>
<td>NestMembers Attribute</td>
<td>§4.7.29</td>
</tr>
</tbody>
</table>
</blockquote>
<p>属性表是动态的，每一种属性都有自己独有的数据结构，在读取到属性名称之后还要根据属性的不同类型来解析不同属性表中的值。</p>

        </div>

        
          <a class="animated fadeInUp p-2 items-center text-sm text-gray-700 border hover:bg-gray-300 leading-none rounded-full flex lg:inline-flex m-4 " href="http://localhost:4000/tag/Mxwmpq9ir/">
            <span class="flex-auto">Java</span>
          </a>
        


        <div class="flex justify-between py-8">
          
            <div class="prev-post">
              <a href="http://localhost:4000/post/UkRuYBIYv/">
                <h3 class="post-title">
                  <i class="ri-arrow-left-line"></i>
                  Javassist学习
                </h3>
              </a>
            </div>
          

          
            <div class="next-post">
              <a href="http://localhost:4000/post/java8-de-xin-te-xing-stream/">
                <h3 class="post-title">
                  Java8的新特性-Stream
                  <i class="ri-arrow-right-line"></i>
                </h3>
              </a>
            </div>
          
        </div>

        

      </div>
    </div>

    <script src="http://localhost:4000/media/prism.js"></script>  
<script>

Prism.highlightAll()
let mainNavLinks = document.querySelectorAll(".markdownIt-TOC a");

// This should probably be throttled.
// Especially because it triggers during smooth scrolling.
// https://lodash.com/docs/4.17.10#throttle
// You could do like...
// window.addEventListener("scroll", () => {
//    _.throttle(doThatStuff, 100);
// });
// Only not doing it here to keep this Pen dependency-free.

window.addEventListener("scroll", event => {
  let fromTop = window.scrollY;

  mainNavLinks.forEach((link, index) => {
    let section = document.getElementById(decodeURI(link.hash).substring(1));
    let nextSection = null
    if (mainNavLinks[index + 1]) {
      nextSection = document.getElementById(decodeURI(mainNavLinks[index + 1].hash).substring(1));
    }
    if (section.offsetTop <= fromTop) {
      if (nextSection) {
        if (nextSection.offsetTop > fromTop) {
          link.classList.add("current");
        } else {
          link.classList.remove("current");    
        }
      } else {
        link.classList.add("current");
      }
    } else {
      link.classList.remove("current");
    }
  });
});


document.addEventListener("DOMContentLoaded", function() {
  var lazyImages = [].slice.call(document.querySelectorAll(".post-feature-image.lazy"));

  if ("IntersectionObserver" in window) {
    let lazyImageObserver = new IntersectionObserver(function(entries, observer) {
      entries.forEach(function(entry) {
        if (entry.isIntersecting) {
          let lazyImage = entry.target
          lazyImage.style.backgroundImage = `url(${lazyImage.dataset.bg})`
          lazyImage.classList.remove("lazy")
          lazyImageObserver.unobserve(lazyImage)
        }
      });
    });

    lazyImages.forEach(function(lazyImage) {
      lazyImageObserver.observe(lazyImage)
    })
  } else {
    // Possibly fall back to a more compatible method here
  }
});

const menuContainer = document.querySelector('.menu-container')
const menus = document.querySelectorAll('.menu-container .menu')
const mask = document.querySelector('.mask')
const contentWrapper = document.querySelector('.content-wrapper')
const latestArticle = document.querySelector('.latest-article')
const readMore = document.querySelector('.read-more')
const indexPage = document.querySelector('.index-page')

const isHome = location.pathname === '/'
if (latestArticle) {
  latestArticle.style.display = isHome ? 'block' : 'none'
  readMore.style.display = isHome ? 'block' : 'none'
  indexPage.style.display = isHome ? 'none' : 'block'
}

const openMenu = () => {
  menuContainer.classList.add('open')
  menus.forEach(menu => {
    menu.classList.add('animated', 'fadeInLeft')
  })
  mask.classList.add('open')
  contentWrapper.classList.add('is-second')
}

const closeMenu = () => {
  menuContainer.classList.remove('open')
  menus.forEach(menu => {
    menu.classList.remove('animated', 'fadeInLeft')
  })
  mask.classList.remove('open')
  contentWrapper.classList.remove('is-second')
}
</script>
  
  </body>
</html>
